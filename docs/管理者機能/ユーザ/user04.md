# CSVインポート

## ユーザインポート画面
<a href="../../../images/user/4-1.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-1.png" style="border: solid 1px #ccc; width: 500px;" />
</a>

### 画面項目
|   #   | 項目名                | 必須  | 説明                                                                                                                                         |
| :---: | :-------------------- | :---: | :------------------------------------------------------------------------------------------------------------------------------------------- |
|   1   | CSVファイル入力例     |   -   | CSVファイルによるデータインポートの説明です。クリックすると、説明を表示します。<br>サンプルとなるCSVファイルをダウンロードすることができます |
|   2   | CSVファイル選択ボタン |   -   | ボタンを押すとインポートするCSVファイルを選択する画面が開きます                                                                              |
|   3   | アップロードボタン    |   -   | ボタンを押すと選択したCSVファイルのインポートを行います。                                                                                    |
|   4   | インポート結果表示欄  |   -   | CSVファイルインポート処理実行後に結果を表示します。                                                                                          |

## CSVファイルインポート結果表示画面
<a href="../../../images/user/4-2.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-2.png" style="border: solid 1px #ccc; width: 500px;" />
</a>


### 画面項目
|   #   | 項目名                   | 必須  | 説明                                                                                                                                                                   |
| :---: | :----------------------- | :---: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   1   | 件数                     |   -   | CSVファイルによるデータインポートの説明です。クリックすると、説明を表示します。<br>サンプルとなるCSVファイルをダウンロードすることができます                           |
|   2   | インポートしたユーザ情報 |   -   | ボタンを押すとインポートするCSVファイルを選択する画面が開きます                                                                                                        |
|   3   | 結果                     |   -   | ボタンを押すと選択したCSVファイルのインポートを行います。<br>取り込めなかったデータは、<span style="font-weight:bold;font-size:16px;color:red;">×</span>を表示します。 |




## CSVファイルについて

- CSVファイル（データがカンマ区切り、拡張子が.csv）の内容をユーザ情報に変換し一括登録します

- 事業所または部署は、[組織](../groupmaintenance.md)よりIDを確認し入力してください

- 事業所または部署が無い場合、該当箇所に 空文字を設定してください

| ユーザ名 | メールアドレス | 事業所 | 部署 | 権限                       |
| -------- | -------------- | ------ | ---- | -------------------------- |
| 1〜20桁  | 1〜255桁       | 10桁   | 10桁 | 0: 一般ユーザ<br>1: 管理者 |

!!! info
    CSVインポートでユーザ登録をすると、登録したユーザのメールアドレスへ仮パスワードを連絡するメールが届きます。



### CSVファイルの例

- ファイル名: `sample.csv`

```csv
VSC太郎,vsctaro@graziecoin.jp,0000000000,1111111111,0
VSC二郎,vscjiro@graziecoin.jp,0000000000,1111111111,0
VSC管理者,vsckanri@graziecoin.jp,0000000000,1111111111,1
```

### インポートエラー時の表示
!!! warning
    以下の登録結果が表示された場合、CSVデータの見直しが必要です<br>
    [よくあるインポートエラーの例](#_6)を参考に修正をお願いいたします

<a href="../../../images/user/4-2.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-3.png" style="border: solid 1px #ccc; width: 500px;" />
</a>

### メール通知に失敗した場合

!!! warning
    以下の登録結果が表示された場合、対象ユーザのメールアドレスへログイン用のパスワードが**通知できていません**<br>
    お手数ですが、対象のユーザへ[パスワード再設定方法](../../howto/howto04.md)をご案内ください

<a href="../../../images/user/4-4.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-4.png" style="border: solid 1px #ccc; width: 500px;" />
</a>

### よくあるインポートエラーの例

!!! fail
    - CSVファイルの末尾に空行がある
    - 事業所ID、部署IDが間違っている
        - 組織からIDをコピーして入力してください
    - 権限の値が間違っている
        - 0または1を指定してください
            - 0: 一般ユーザ
            - 1: 管理者
    - 事業所ID、部署ID、権限を全角数字で入力している
        - 半角で入力してください
    - 上記に気をつけてCSVファイルを作成したがエラーになってしまう
        - お手数ですが作成したCSVファイルを添付して、バリューソフトウエア問合せ窓口（`app_dev@valunet.co.jp`）へお問い合わせください

#### 事業所ID、部署IDが間違っている

事業所コードの桁数が10桁ではない、または存在しない事業所コードを指定している場合などはエラーが発生します。

<a href="../../../images/user/4-error-1.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-error-1.png" style="border: solid 1px #ccc; width: 300px;" />
</a>
<a href="../../../images/user/4-error-1.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-error-1.png" style="border: solid 1px #ccc; width: 300px;" />
</a>



#### 権限の数値が0または1ではない

ユーザ権限の数値が0(一般)、1(管理者)以外の場合は、エラーが発生します。

<a href="../../../images/user/4-error-3.png" data-lightbox="スクリーンショット" data-title="スクリーンショット">
    <img src="../../../images/user/4-error-3.png" style="border: solid 1px #ccc; width: 300px;" />
</a>


#### エラーが解消しない場合
- すでに登録されているメールアドレスを使用している場合があります
    - [ユーザ一覧](user01.md)で登録されていないかご確認ください
- ユーザの作成数がサービス利用申込時に設定されたご利用者数を超えている場合があります
    - バリューソフトウエアまでお問合せください



#### よくあるお問合せ
!!! warning
    - 仮パスワードのメールが届かない
        - メールアドレスが間違っている可能性があります。[ユーザ一覧](user01.md)でIDをご確認ください。


## 使い方
### CSVインポートでユーザを登録する

<iframe src="https://scribehow.com/embed/CSV__wuuihIlBRUGkNUT21doutg" width="640" height="640" allowfullscreen frameborder="0"></iframe>
